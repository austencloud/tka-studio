[pytest]
# TKA Monorepo pytest configuration - FIXED VERSION

addopts =
    -v
    --tb=short
    --disable-warnings
    --maxfail=1000
    --strict-markers
    --strict-config
    --capture=no

# Python path - simplified
pythonpath =
    .
    src
    src/desktop/modern/src
    src/desktop/modern
    src/desktop/legacy/src
    src/desktop/legacy
    launcher
    packages

# Test discovery
testpaths =
    .
    src/desktop/modern/tests
    src/desktop/legacy/tests
    launcher/tests

python_files = test_*.py *_test.py
python_functions = test_*
python_classes = Test*

# Markers
markers =
    unit: Unit tests (fast, isolated)
    integration: Integration tests (component interactions)
    modern: Modern codebase tests
    legacy: Legacy codebase tests
    launcher: Launcher application tests
    slow: Tests taking >5 seconds
    gui: GUI tests requiring display

minversion = 6.0

# Minimal warnings filter
filterwarnings =
    ignore::DeprecationWarning
    ignore::UserWarning

# Async support
asyncio_mode = auto
