[pytest]
# TKA Monorepo pytest configuration - QT IMMUNE

addopts =
    -v
    --tb=short
    --disable-warnings
    --maxfail=1000
    --strict-markers
    --strict-config
    --capture=no
    --continue-on-collection-errors
    --ignore-glob="**/test_*qt*.py"
    --ignore-glob="**/test_*widget*.py"
    --ignore-glob="**/test_*gui*.py"
    --ignore-glob="**/test_*ui*.py"
    --ignore-glob="**/test_*workbench*.py"
    --ignore-glob="**/test_*end_to_end*.py"

pythonpath =
    .
    src
    src/desktop/modern/src
    src/desktop/modern
    src/desktop/legacy/src
    src/desktop/legacy
    launcher
    packages

testpaths =
    .
    src/desktop/modern/tests
    src/desktop/legacy/tests
    launcher/tests

python_files = test_*.py *_test.py
python_functions = test_*
python_classes = Test*

markers =
    unit: Unit tests (fast, isolated)
    integration: Integration tests (component interactions)
    modern: Modern codebase tests
    legacy: Legacy codebase tests
    launcher: Launcher application tests

minversion = 6.0

filterwarnings =
    ignore::DeprecationWarning
    ignore::UserWarning

asyncio_mode = auto
